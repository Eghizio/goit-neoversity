<title>Scope and closure</title>

<script id="Global scope">
// <script type="module" id="Global scope">

    // let currentFunds = 0;
    // const MSG = "Global broadcast";
    // const numbers = [3, 2, 1];

    // function broadcast() {
    //     console.log(MSG);

    //     function x() {
    //         function y() {
    //             function z() {
    //                 console.log("Z: " + MSG);
    //             }
    //             z();
    //         }
    //         y();
    //     }

    //     x();
    // }


    // broadcast();
    // z();
    // y();
    // x();

</script>

<script id="Global scope in other scripts">

    // currentFunds = -42;
    // console.log(MSG, numbers);
    // broadcast();
    // console.log({ currentFunds });

</script>

<script id="Global and Local scopes">
    /* Global scope */
    // const DEFAULT_NUMBER = 42;
    // const x = 1;

    // {
    //     const q = 123; /* local scope */
    //     console.log({ DEFAULT_NUMBER });
    // }

    // // console.log({ q }); /* cannot reach local scope of q */



    // function power(x, pow = 2) { /* Local scope */
    //     if (x === 0) { /* Local scope */
    //         const y = 1337;
    //         console.log({ y }); /* local "if" scope */

    //         x = DEFAULT_NUMBER;
    //     }

    //     // console.log({ y }); /* out of "function" scope */

    //     let result = 1;
    //     for (let i=0; i<pow; i++) { /* Local scope */
    //         const z = 1337;
    //         console.log({ z }); /* local "for loop" scope */

    //         result *= x;
    //     }

    //     // console.log({ z }); /* out of "function" scope */

    //     return result;
    // }

    // console.log({ x });

    // console.log( power(2, 3) );
    // console.log( power(0, 3) );

    // console.log({ x });

</script>

<script id="Scope & Variable shadowing">

    // const lewy = "Robert Lewandowski";


    // function gossip(message) {
    //     const lewy = "Maurycy Lewandowski";

    //     console.log(message);
    //     console.log(`${lewy}?`);
    // }


    // gossip("Lewy strzeli≈Ç gola!");

    // console.log(`Nie, ${lewy}!`);

</script>

<script id="Closure - encapsulated local scope">

    // function createIterator(initialValue = 0) {
    //     let iterator = initialValue; /* closure */

    //     return function() {
    //         console.log(++iterator);
    //         // return ++iterator;
    //     }
    // }

    // const i = createIterator(42);
    // console.log( i );

    // i();
    // i();
    // i();

    // console.log({ iterator });
    // iterator = 69;
    // console.log({ iterator });

    // i();



    // console.log(i());

</script>

<script id="Encapsulation - IIFE">

    // (function() {
    //     let msg = "Hello there";
    //     console.log(msg);
    // })();

    // let msg = "Hi";
    // console.log(msg);

    // // let msg = "Dupa"; /* Ooopsie */



    // (() => {
    //     console.log("Arrow => ", msg);
    // })();

</script>
