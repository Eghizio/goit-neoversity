<title>Synchronous & Asynchronous code</title>

<style>

    body {
        transition: background-color 800ms;
    }

    .boom {
        background-color: crimson;
        animation: shake 0.5s;
    }

    @keyframes shake {
        0% { transform: translate(16px, -16px); }
        20% { transform: translate(-16px, 16px); }
        52% { transform: translate(16px, -16px); }
        77% { transform: translate(16px, 16px); }
        91% { transform: translate(-16px, -16px); }
        100% { transform: translate(0, 0); }
    }

    .rockets {
        padding: 0.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: center;
    }

    button {
        min-width: 300px;
        cursor: pointer;
        padding: 1rem 2rem;
        border: none;
        border-radius: 12px;
    }

    button:hover {
        filter: brightness(0.8);
    }

    .center {
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

</style>

<main>
    <!-- <section class="rockets">
        <h1>Rockets <span id="countdown"></span></h1>
        <button id="start">üöÄ LAUNCH!</button>
        <button id="stop" style="color:red">‚ùå ABORT!</button>
    </section> -->

    <!-- <section id="count" class="center"></section> -->

    <!-- <section id="clock" class="center"></section> -->
</main>

<script id="Sync">
 
    // console.log("First");
    // console.log("Second");
    // console.log("Third");
    // console.log("Fourth");

</script>

<script id="Async">

    // console.log("First");

    // setTimeout(() => {
    //     console.log("Second");
    // }, 5_000);

    // console.log("Third");
    // console.log("Fourth");

</script>

<script id="Zero timeout">

    // console.log("First");

    // setTimeout(() => {
    //     console.log("Second");
    // }, 0);

    // console.log("Third");
    // console.log("Fourth");

</script>

<script id="Set Timeout function">

    // const FIVE_SECONDS = 5_000; /* delay */
    
    
    
    // console.log("Start");

    // const timeoutId = setTimeout(() => {
    //     console.log({ timeoutId });
        
    //     console.log("Doing some work...");
    //     document.body.backgroundColor = "red";

    //     console.log("Finish");
    // }, FIVE_SECONDS);

    // console.log("Hello there");
    
</script>

<script id="Clearing timeout">
    
    // const timeoutOne = setTimeout(() => {
    //     console.log("Launching missiles!");
    // }, 10_000);

    // console.log(`Aborting launch #${timeoutOne}`);
    // clearTimeout(timeoutOne);



    // const timeoutTwo = setTimeout(() => {
    //     console.log("Liftoff!");
    // }, 10_000);

    // setTimeout(() => {
    //     console.log(`Aborting liftoff #${timeoutTwo}...`);
    //     clearTimeout(timeoutTwo);
    // }, Math.random() * 15_000);

</script>

<script id="Nesting timeouts">

    // const ONE_SECOND_IN_MS = 1_000;
    // let timeout = null;
    // let counter = 5;

    // const formatCountdown = (seconds) => `(${seconds} seconds)`;
    
    // const countdown = document.querySelector("span#countdown");

    // const launchRocket = () => {
    //     if (counter <= 0) {
    //         countdown.textContent = "";
    //         console.log("Lift off!");
            
    //         document.body.classList.add("boom");

    //         setTimeout(() => {
    //             document.body.classList.remove("boom");
    //         }, ONE_SECOND_IN_MS);

    //         return clearTimeout(timeout);
    //     }
        
    //     countdown.textContent = formatCountdown(counter);
    //     console.log(counter--);

    //     timeout = setTimeout(() => {
    //         launchRocket();
    //     }, ONE_SECOND_IN_MS);
    // };

    // document.querySelector("button#start").addEventListener("click", () => {
    //     timeout = setTimeout(launchRocket, ONE_SECOND_IN_MS);
    // });

    // document.querySelector("button#stop").addEventListener("click", () => {
    //     console.log(`Aborting countdown #${timeout}...`);
    //     clearTimeout(timeout);
    // });

</script>

<script id="Paralel timeouts">

    // const rnd = () => Math.random() * 10_000;


    // const countElement = document.querySelector("section#count");
    // let count = 0;

    // setTimeout(() => {
    //     countElement.textContent = count++;
    //     console.log("First timeout");
    // }, rnd());

    // setTimeout(() => {
    //     countElement.textContent = count++;
    //     console.log("Second timeout");
    // }, rnd());



    // const runMultipleParalelTimeouts = (amount) => {
    //     for(let i=0; i<amount; i++) {
    //         // const delay = 3_000;
    //         const delay = rnd();

    //         console.log(`Running timeout with delay: ${delay}`);

    //         setTimeout(() => {
    //             countElement.textContent = count++;
    //         }, delay);
    //     }
    // };

    // // runMultipleParalelTimeouts(10);
    // runMultipleParalelTimeouts(1337);



    // // setTimeout(() => {
    // //     alert(count);
    // // }, rnd());

</script>

<script id="Set Interval function">

    // const intervalId = setInterval(() => {
    //     console.log({ intervalId }, Math.random());
    // }, 1_000);

</script>

<script id="Clearing Interval">

    // const dateInterval = setInterval(() => {
    //     console.log(new Date());
    // }, 1_000);

    // setTimeout(() => {
    //     clearInterval(dateInterval);
    // }, 5 + Math.random() * 20_000);

</script>

<script id="Encapsulating countdown">

    // const createCountdown = (countdown = 10) => () => {
    //     console.log(countdown--);
    //     if (countdown <= 0) clearInterval(interval);
    // };

    // // const interval = setInterval(createCountdown(12), 1_000);

    // const countdownFromTen = createCountdown(10);
    // const interval = setInterval(countdownFromTen, 1_000);

    // const rougeInterval = setInterval(countdownFromTen, 1_000);

</script>

<script id="Unsubscribe">

    // const logTime = () => {
    //     const subscription = setInterval(() => {
    //         console.log(new Date().toLocaleString());
    //     }, 1_000);

    //     return () => clearInterval(subscription);
    // };

    // const unsubscribe = logTime();

    // // unsubscribe();



    // const subscribe = (callback, delay = 1_000) => {
    //     const subscription = setInterval(callback, delay);
    //     return () => clearInterval(subscription);
    // }; 

    // const unsubscribe = subscribe(() => console.log(Math.round(Math.random() * 100)), 2_000);

    // // unsubscribe();

</script>

<script id="Rockets with interval">

    // let interval;

    // const formatCountdown = (seconds) => `(${seconds} seconds)`;
    
    // const countdown = document.querySelector("span#countdown");

    // document.querySelector("button#start").addEventListener("click", () => {
    //     let counter = 5;

    //     interval = setInterval(() => {
    //         console.log(Date.now().toString());

    //         // if (counter <= 0) return;
    //         // if (counter <= 0) clearInterval(interval);
    //         // if (counter <= 0) return clearInterval(interval);
    //         if (counter <= 0) {
    //             countdown.textContent = "";
    //             return clearInterval(interval);
    //         }
            
    //         countdown.textContent = formatCountdown(counter);
    //         console.log(counter--);
    //     }, 1_000);
    // });

    // document.querySelector("button#stop").addEventListener("click", () => {
    //     console.log(`Aborting interval #${interval}...`);
    //     clearInterval(interval);
    // });



    // setInterval(() => {
    //     // empty interval running all the time.
    // }, 0);

</script>

<script id="Clock">

    // const clock = document.querySelector("section#clock");

    // setInterval(() => {
    //     clock.textContent = new Date();
    // }, 500);

</script>
